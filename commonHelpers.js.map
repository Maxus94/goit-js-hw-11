{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from \"simplelightbox\";\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst apiKey = '40858721-2ab2962236a746e97c71283b6';\nconst form = document.querySelector('.search-form');\nconst listOfPictures=document.querySelector('.gallery');\nconst gallerySimpleLightbox = new SimpleLightbox('.gallery a');\n  console.log(gallerySimpleLightbox);\n  listOfPictures.innerHTML='';\nform.addEventListener('submit', submitHandler);\n\nfunction submitHandler(evt) {\n  evt.preventDefault();\n  console.log(form.elements.searchText.value);\n  fetch(\n    `https://pixabay.com/api/?key=40858721-2ab2962236a746e97c71283b6&q=${form.elements.searchText.value}&image_type=photo&orientation=horizontal&safesearch=true,`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.show({\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n          close: false,\n          backgroundColor: 'red',\n          messageColor: 'white',\n          messageSize: 20,\n          timeout: 0,\n          position: 'topRight', // bottomRight, bottomLeft, topRight, topLeft, topCenter, bottomCenter, center\n        });\n      }else{\n        listOfPictures.innerHTML=createMarkup(data.hits);\n        console.log(listOfPictures);\n        gallerySimpleLightbox.refresh();\n        console.log(gallerySimpleLightbox);\n      }\n    })\n    .catch(error => {\n      iziToast.show({\n        title: 'Error',\n        message: `Something goes wrong, please try reload page.`,\n        close: false,\n        backgroundColor: 'red',\n        messageColor: 'white',\n        messageSize: 20,\n        timeout: 0,\n        position: 'topRight', // bottomRight, bottomLeft, topRight, topLeft, topCenter, bottomCenter, center\n      });\n    }); \n}\n\nfunction createMarkup(arr) {\n    return arr\n      .map(\n        ({\n          webformatURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n          largeImageURL,\n        }) =>\n        `<div class=\"photo-card\">\n        <a href=\"${largeImageURL}\">\n      <img class=\"item-image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"400\" height=\"240\" loading=\"lazy\" />\n      </a>\n      <div class=\"info\"><p class=\"info-item\"><b>Likes</b><br>${likes}</p>\n      <p class=\"info-item\"><b>Views</b><br>${views}</p>\n      <p class=\"info-item\"><b>Comments</b><br>${comments}</p>\n      <p class=\"info-item\"><b>Downloads</b><br>${downloads}</p></div></div>`\n      )\n      .join('');\n  }\n\n\n\n\n\n\n\n// import SimpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\n// import iziToast from 'izitoast';\n// import 'izitoast/dist/css/iziToast.min.css';\n\n// const form = document.querySelector('.search-form');\n// const input = document.querySelector('input[name=\"searchText\"]');\n// const gallery = document.querySelector('.gallery');\n\n// let textToSearch = '';\n// let gallerySimpleLightbox = new SimpleLightbox('.gallery a', {\n//   captionsData: 'alt',\n//   captionDelay: 50,\n// });\n\n// form.addEventListener('submit', searchButtonHandler);\n\n// async function searchButtonHandler(event) {\n//   event.preventDefault();\n//   textToSearch = input.value.trim();\n//   iziToast.destroy();\n//   if (textToSearch === '') {\n//     alert(\n//       \"Search form can't be empty, enter there some text for images search.\"\n//     );\n//     return;\n//   } else {\n//     gallery.innerHTML = '';\n//     try {\n//       const data = await servicePictures();\n//       console.log(data.hits);\n//       if (Array.from(data.hits).length === 0) {\n//         iziToast.show({\n//           title: 'Error',\n//           message: `Sorry, there are no images matching your search query. Please try again.`,\n//           close: false,\n//           backgroundColor: 'red',\n//           messageColor: 'white',\n//           messageSize: 20,\n//           timeout: 2000,\n//           position: 'topRight', // bottomRight, bottomLeft, topRight, topLeft, topCenter, bottomCenter, center\n//         });\n//       } else {\n//         gallery.insertAdjacentHTML('beforeend', createMarkup(data.hits));\n//         console.log(gallery);\n//         gallerySimpleLightbox.refresh();\n//         iziToast.show({\n//           //title: 'Error',\n//           message: `Hooray! We found ${data.totalHits} images.`,\n//           close: false,\n//           backgroundColor: 'green',\n//           messageColor: 'white',\n//           messageSize: 20,\n//           timeout: 2000,\n//           position: 'topCenter', // bottomRight, bottomLeft, topRight, topLeft, topCenter, bottomCenter, center\n//         });\n//       }\n//     } catch {\n//       iziToast.show({\n//         //title: 'Error',\n//         message: `Something goes wrong, please try reload page.`,\n//         close: false,\n//         backgroundColor: 'red',\n//         messageColor: 'white',\n//         messageSize: 20,\n//         timeout: 0,\n//         position: 'topCenter', // bottomRight, bottomLeft, topRight, topLeft, topCenter, bottomCenter, center\n//       });\n//     }\n//   }\n// }\n\n// async function servicePictures() {\n//   const pictures = await fetch(\n//     `https://pixabay.com/api/?key=40858721-2ab2962236a746e97c71283b6&q=${form.elements.searchText.value}&image_type=photo&orientation=horizontal$safesearch=true`\n//   )\n//     .then(response => {\n//       if (!response.ok) {\n//         throw new Error(response.status);\n//       }\n//       return response.json();\n//     })\n//     .catch(error => {\n//       console.log(error);\n//     });  \n//   return pictures;\n// }\n\n// function createMarkup(arr) {\n//   return arr\n//     .map(\n//       ({\n//         webformatURL,\n//         tags,\n//         likes,\n//         views,\n//         comments,\n//         downloads,\n//         largeImageURL,\n//       }) =>\n//         `<div class=\"photo-card\">\n//         <a class=\"gallery__link\" href=\"${largeImageURL}\">\n//       <img class=\"item-image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"400\" height=\"240\" loading=\"lazy\" />\n//       </a>\n//       <div class=\"info\"><p class=\"info-item\"><b>Likes</b><br>${likes}</p>\n//       <p class=\"info-item\"><b>Views</b><br>${views}</p>\n//       <p class=\"info-item\"><b>Comments</b><br>${comments}</p>\n//       <p class=\"info-item\"><b>Downloads</b><br>${downloads}</p></div></div>`\n//     )\n//     .join('');\n// }\n"],"names":["form","listOfPictures","gallerySimpleLightbox","SimpleLightbox","submitHandler","evt","response","data","iziToast","createMarkup","error","arr","webformatURL","tags","likes","views","comments","downloads","largeImageURL"],"mappings":"6vBAOA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAe,SAAS,cAAc,UAAU,EAChDC,EAAwB,IAAIC,EAAe,YAAY,EAC3D,QAAQ,IAAID,CAAqB,EACjCD,EAAe,UAAU,GAC3BD,EAAK,iBAAiB,SAAUI,CAAa,EAE7C,SAASA,EAAcC,EAAK,CAC1BA,EAAI,eAAc,EAClB,QAAQ,IAAIL,EAAK,SAAS,WAAW,KAAK,EAC1C,MACE,qEAAqEA,EAAK,SAAS,WAAW,KAAK,2DACpG,EACE,KAAKM,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBC,EAAS,KAAK,CACZ,QAAS,2EACT,MAAO,GACP,gBAAiB,MACjB,aAAc,QACd,YAAa,GACb,QAAS,EACT,SAAU,UACpB,CAAS,GAEDP,EAAe,UAAUQ,EAAaF,EAAK,IAAI,EAC/C,QAAQ,IAAIN,CAAc,EAC1BC,EAAsB,QAAO,EAC7B,QAAQ,IAAIA,CAAqB,EAEzC,CAAK,EACA,MAAMQ,GAAS,CACdF,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,gDACT,MAAO,GACP,gBAAiB,MACjB,aAAc,QACd,YAAa,GACb,QAAS,EACT,SAAU,UAClB,CAAO,CACP,CAAK,CACL,CAEA,SAASC,EAAaE,EAAK,CACvB,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,cAAAC,CACD,IACD;AAAA,mBACWA,CAAa;AAAA,qCACKN,CAAY,UAAUC,CAAI;AAAA;AAAA,+DAEAC,CAAK;AAAA,6CACvBC,CAAK;AAAA,gDACFC,CAAQ;AAAA,iDACPC,CAAS,kBACnD,EACA,KAAK,EAAE,CACX"}